[{"D:\\Projects\\SchoolSchedulViewer\\desktop-viewer\\src\\index.js":"1","D:\\Projects\\SchoolSchedulViewer\\desktop-viewer\\src\\reportWebVitals.js":"2","D:\\Projects\\SchoolSchedulViewer\\desktop-viewer\\src\\App.js":"3","D:\\Projects\\SchoolSchedulViewer\\desktop-viewer\\src\\routes.js":"4","D:\\Projects\\SchoolSchedulViewer\\desktop-viewer\\src\\View\\ViewPage.js":"5","D:\\Projects\\SchoolSchedulViewer\\desktop-viewer\\src\\View\\SelectViewPage.js":"6","D:\\Projects\\SchoolSchedulViewer\\desktop-viewer\\src\\hooks\\http.hook.js":"7","D:\\Projects\\SchoolSchedulViewer\\desktop-viewer\\src\\hooks\\message.hook.js":"8","D:\\Projects\\SchoolSchedulViewer\\desktop-viewer\\src\\components\\Loader.js":"9","D:\\Projects\\SchoolSchedulViewer\\desktop-viewer\\src\\View\\TimeBlock.js":"10","D:\\Projects\\SchoolSchedulViewer\\desktop-viewer\\src\\View\\ClassBlock.js":"11","D:\\Projects\\SchoolSchedulViewer\\desktop-viewer\\src\\View\\SpecialCourseTable.js":"12"},{"size":287,"mtime":1611564706128,"results":"13","hashOfConfig":"14"},{"size":362,"mtime":499162500000,"results":"15","hashOfConfig":"14"},{"size":613,"mtime":1614078159379,"results":"16","hashOfConfig":"14"},{"size":510,"mtime":1613384758276,"results":"17","hashOfConfig":"14"},{"size":9862,"mtime":1614079057655,"results":"18","hashOfConfig":"14"},{"size":3097,"mtime":1614078134912,"results":"19","hashOfConfig":"14"},{"size":1069,"mtime":1601362997983,"results":"20","hashOfConfig":"14"},{"size":192,"mtime":1610445345776,"results":"21","hashOfConfig":"14"},{"size":580,"mtime":1601362997973,"results":"22","hashOfConfig":"14"},{"size":619,"mtime":1614062389433,"results":"23","hashOfConfig":"14"},{"size":803,"mtime":1614061210342,"results":"24","hashOfConfig":"14"},{"size":1018,"mtime":1614061387688,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"r1n99a",{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"37","messages":"38","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39","usedDeprecatedRules":"28"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"48","messages":"49","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"50","messages":"51","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"D:\\Projects\\SchoolSchedulViewer\\desktop-viewer\\src\\index.js",[],["52","53"],"D:\\Projects\\SchoolSchedulViewer\\desktop-viewer\\src\\reportWebVitals.js",[],"D:\\Projects\\SchoolSchedulViewer\\desktop-viewer\\src\\App.js",[],"D:\\Projects\\SchoolSchedulViewer\\desktop-viewer\\src\\routes.js",[],"D:\\Projects\\SchoolSchedulViewer\\desktop-viewer\\src\\View\\ViewPage.js",["54","55","56","57"],"D:\\Projects\\SchoolSchedulViewer\\desktop-viewer\\src\\View\\SelectViewPage.js",["58","59","60","61"],"import React, {useCallback, useContext, useEffect, useState} from \"react\";\r\nimport {useMessage} from \"../hooks/message.hook\";\r\nimport {useHistory} from 'react-router-dom'\r\nimport {useHttp} from \"../hooks/http.hook\";\r\nimport Select from \"react-select\";\r\nimport {Button} from \"react-bootstrap\";\r\nimport {Loader} from \"../components/Loader\";\r\nimport style from './Themes/SelectsViewPage.module.css'\r\n\r\n\r\nexport const SelectViewPage = () => {\r\n    const message = useMessage();\r\n    const {loading, request, error, clearError} = useHttp();\r\n    const [options, setOptions] = useState({schools: []});\r\n    const themes = [\r\n        {label: 'Оформление 1', value: 'style1'},\r\n        {label: 'Оформление 2', value: 'style2'},\r\n        {label: 'Оформление 3', value: 'style3'},\r\n        {label: 'Оформление 4', value: 'style4'}\r\n    ]\r\n    const [form, setForm] = useState({\r\n        school: '',\r\n        theme: {label: 'Оформление 1', value: 'style1'},\r\n    });\r\n\r\n    const getData = useCallback(async () => {\r\n        try {\r\n            const fetched = await request(`/api/table/get_school`, 'GET', null);\r\n            setOptions(fetched);\r\n        } catch (e) {\r\n\r\n        }\r\n    }, [request]);\r\n\r\n    useEffect(() => {\r\n        getData();\r\n    }, [getData]);\r\n\r\n\r\n    const changeHandler = (event, action) => {\r\n        setForm({...form, [action.name]: event});\r\n    };\r\n    const viewHandler = () => {\r\n        if (form.school === '') {\r\n            message('Выберете школу')\r\n        } else {\r\n            window.location.href = `/view/${form.school.value}/${form.theme.value}`\r\n        }\r\n    }\r\n\r\n    if (loading) {\r\n        return <Loader/>\r\n    }\r\n\r\n    return (\r\n        <div className={style.main}>\r\n            <svg className={style.logo}/>\r\n            <div className={style.form}>\r\n                <div className={style.title}>Настройки приложения</div>\r\n                <Select\r\n\r\n                    onChange={changeHandler}\r\n                    id=\"school\"\r\n                    placeholder=\"Выберите школу\"\r\n                    className={style.selector}\r\n                    options={options.schools}\r\n                    value={form.school}\r\n                    name=\"school\"\r\n                />\r\n                <Select\r\n                    onChange={changeHandler}\r\n                    id=\"theme\"\r\n                    placeholder=\"Выберите оформление расписания\"\r\n                    className={`${style.selector}`}\r\n                    options={themes}\r\n                    value={form.theme}\r\n                    name=\"theme\"\r\n                />\r\n                <Button\r\n                    className={`btn ${style.button}`}\r\n                    style={{marginRight: 10}}\r\n                    disabled={loading}\r\n                    onClick={viewHandler}\r\n                >\r\n                    Выбрать школу\r\n                </Button>\r\n            </div>\r\n        </div>\r\n    )\r\n};","D:\\Projects\\SchoolSchedulViewer\\desktop-viewer\\src\\hooks\\http.hook.js",[],"D:\\Projects\\SchoolSchedulViewer\\desktop-viewer\\src\\hooks\\message.hook.js",[],"D:\\Projects\\SchoolSchedulViewer\\desktop-viewer\\src\\components\\Loader.js",[],"D:\\Projects\\SchoolSchedulViewer\\desktop-viewer\\src\\View\\TimeBlock.js",["62","63","64","65"],"D:\\Projects\\SchoolSchedulViewer\\desktop-viewer\\src\\View\\ClassBlock.js",["66","67","68","69"],"D:\\Projects\\SchoolSchedulViewer\\desktop-viewer\\src\\View\\SpecialCourseTable.js",["70","71","72","73"],{"ruleId":"74","replacedBy":"75"},{"ruleId":"76","replacedBy":"77"},{"ruleId":"78","severity":1,"message":"79","line":1,"column":40,"nodeType":"80","messageId":"81","endLine":1,"endColumn":46},{"ruleId":"78","severity":1,"message":"82","line":52,"column":12,"nodeType":"80","messageId":"81","endLine":52,"endColumn":29},{"ruleId":"83","severity":1,"message":"84","line":95,"column":8,"nodeType":"85","endLine":95,"endColumn":27,"suggestions":"86"},{"ruleId":"83","severity":1,"message":"87","line":154,"column":5,"nodeType":"80","endLine":154,"endColumn":14,"suggestions":"88"},{"ruleId":"78","severity":1,"message":"89","line":1,"column":29,"nodeType":"80","messageId":"81","endLine":1,"endColumn":39},{"ruleId":"78","severity":1,"message":"90","line":3,"column":9,"nodeType":"80","messageId":"81","endLine":3,"endColumn":19},{"ruleId":"78","severity":1,"message":"91","line":13,"column":30,"nodeType":"80","messageId":"81","endLine":13,"endColumn":35},{"ruleId":"78","severity":1,"message":"92","line":13,"column":37,"nodeType":"80","messageId":"81","endLine":13,"endColumn":47},{"ruleId":"78","severity":1,"message":"93","line":1,"column":16,"nodeType":"80","messageId":"81","endLine":1,"endColumn":27},{"ruleId":"78","severity":1,"message":"89","line":1,"column":29,"nodeType":"80","messageId":"81","endLine":1,"endColumn":39},{"ruleId":"78","severity":1,"message":"94","line":1,"column":41,"nodeType":"80","messageId":"81","endLine":1,"endColumn":50},{"ruleId":"78","severity":1,"message":"95","line":1,"column":52,"nodeType":"80","messageId":"81","endLine":1,"endColumn":60},{"ruleId":"78","severity":1,"message":"93","line":1,"column":16,"nodeType":"80","messageId":"81","endLine":1,"endColumn":27},{"ruleId":"78","severity":1,"message":"89","line":1,"column":29,"nodeType":"80","messageId":"81","endLine":1,"endColumn":39},{"ruleId":"78","severity":1,"message":"94","line":1,"column":41,"nodeType":"80","messageId":"81","endLine":1,"endColumn":50},{"ruleId":"78","severity":1,"message":"95","line":1,"column":52,"nodeType":"80","messageId":"81","endLine":1,"endColumn":60},{"ruleId":"78","severity":1,"message":"93","line":1,"column":16,"nodeType":"80","messageId":"81","endLine":1,"endColumn":27},{"ruleId":"78","severity":1,"message":"89","line":1,"column":29,"nodeType":"80","messageId":"81","endLine":1,"endColumn":39},{"ruleId":"78","severity":1,"message":"94","line":1,"column":41,"nodeType":"80","messageId":"81","endLine":1,"endColumn":50},{"ruleId":"78","severity":1,"message":"95","line":1,"column":52,"nodeType":"80","messageId":"81","endLine":1,"endColumn":60},"no-native-reassign",["96"],"no-negated-in-lhs",["97"],"no-unused-vars","'useRef' is defined but never used.","Identifier","unusedVar","'flagSpecialCourse' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useCallback has a missing dependency: 'count.count'. Either include it or remove the dependency array. You can also replace multiple useState variables with useReducer if 'setAnnouncementText' needs the current value of 'count.count'.","ArrayExpression",["98"],"React Hook useEffect contains a call to 'setView'. Without a list of dependencies, this can lead to an infinite chain of updates. To fix this, pass [clockLauncher, view, announcementText.date, adImage.date, getData, getDataAnnouncement, getDataAd, getDataDirector, getSpecialCourses, announcementSwitcher, adSwitcher] as a second argument to the useEffect Hook.",["99"],"'useContext' is defined but never used.","'useHistory' is defined but never used.","'error' is assigned a value but never used.","'clearError' is assigned a value but never used.","'useCallback' is defined but never used.","'useEffect' is defined but never used.","'useState' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"100","fix":"101"},{"desc":"102","fix":"103"},"Update the dependencies array to be: [request, schoolId, count.count]",{"range":"104","text":"105"},"Add dependencies array: [clockLauncher, view, announcementText.date, adImage.date, getData, getDataAnnouncement, getDataAd, getDataDirector, getSpecialCourses, announcementSwitcher, adSwitcher]",{"range":"106","text":"107"},[3816,3835],"[request, schoolId, count.count]",[6239,6239],", [clockLauncher, view, announcementText.date, adImage.date, getData, getDataAnnouncement, getDataAd, getDataDirector, getSpecialCourses, announcementSwitcher, adSwitcher]"]