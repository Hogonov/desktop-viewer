[{"D:\\Projects\\SchoolSchedulViewer\\desktop-viewer\\src\\index.js":"1","D:\\Projects\\SchoolSchedulViewer\\desktop-viewer\\src\\reportWebVitals.js":"2","D:\\Projects\\SchoolSchedulViewer\\desktop-viewer\\src\\App.js":"3","D:\\Projects\\SchoolSchedulViewer\\desktop-viewer\\src\\routes.js":"4","D:\\Projects\\SchoolSchedulViewer\\desktop-viewer\\src\\View\\ViewPage.js":"5","D:\\Projects\\SchoolSchedulViewer\\desktop-viewer\\src\\View\\SelectViewPage.js":"6","D:\\Projects\\SchoolSchedulViewer\\desktop-viewer\\src\\hooks\\http.hook.js":"7","D:\\Projects\\SchoolSchedulViewer\\desktop-viewer\\src\\hooks\\message.hook.js":"8","D:\\Projects\\SchoolSchedulViewer\\desktop-viewer\\src\\components\\Loader.js":"9"},{"size":500,"mtime":499162500000,"results":"10","hashOfConfig":"11"},{"size":362,"mtime":499162500000,"results":"12","hashOfConfig":"11"},{"size":353,"mtime":1611322502699,"results":"13","hashOfConfig":"11"},{"size":504,"mtime":1611236963108,"results":"14","hashOfConfig":"11"},{"size":24267,"mtime":1611236517803,"results":"15","hashOfConfig":"11"},{"size":2539,"mtime":1611322417762,"results":"16","hashOfConfig":"11"},{"size":1069,"mtime":1601362997983,"results":"17","hashOfConfig":"11"},{"size":192,"mtime":1610445345776,"results":"18","hashOfConfig":"11"},{"size":580,"mtime":1601362997973,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"r1n99a",{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31","usedDeprecatedRules":"22"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"34","usedDeprecatedRules":"22"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},"D:\\Projects\\SchoolSchedulViewer\\desktop-viewer\\src\\index.js",[],["42","43"],"D:\\Projects\\SchoolSchedulViewer\\desktop-viewer\\src\\reportWebVitals.js",[],"D:\\Projects\\SchoolSchedulViewer\\desktop-viewer\\src\\App.js",[],"D:\\Projects\\SchoolSchedulViewer\\desktop-viewer\\src\\routes.js",[],"D:\\Projects\\SchoolSchedulViewer\\desktop-viewer\\src\\View\\ViewPage.js",["44","45","46","47","48","49","50","51","52","53"],"import React, {useCallback, useEffect, useState} from \"react\";\r\nimport {useParams} from 'react-router-dom';\r\nimport {useHttp} from \"../hooks/http.hook\";\r\nimport {useMessage} from \"../hooks/message.hook\";\r\nimport {Loader} from \"../components/Loader\";\r\n\r\n\r\nexport const ViewPage = () => {\r\n    const message = useMessage();\r\n\r\n    const {loading, request, error, clearError} = useHttp();\r\n    const [dataFlag, setDataFlag] = useState(false);\r\n    const [view, setView] = useState({\r\n        date: new Date(),\r\n        session: '',\r\n        editDate: '',\r\n        times: [],\r\n        classrooms: [\r\n            {name: '', subjects: [{name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}]},\r\n            {name: '', subjects: [{name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}]},\r\n            {name: '', subjects: [{name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}]},\r\n            {name: '', subjects: [{name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}]},\r\n            {name: '', subjects: [{name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}]},\r\n            {name: '', subjects: [{name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}]},\r\n            {name: '', subjects: [{name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}]},\r\n            {name: '', subjects: [{name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}]},\r\n            {name: '', subjects: [{name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}]},\r\n            {name: '', subjects: [{name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}]},\r\n            {name: '', subjects: [{name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}]},\r\n            {name: '', subjects: [{name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}]},\r\n            {name: '', subjects: [{name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}]},\r\n            {name: '', subjects: [{name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}]},\r\n            {name: '', subjects: [{name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}]},\r\n            {name: '', subjects: [{name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}]},\r\n            {name: '', subjects: [{name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}]},\r\n            {name: '', subjects: [{name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}]},\r\n            {name: '', subjects: [{name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}]},\r\n            {name: '', subjects: [{name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}, {name: '', update: false}]}\r\n        ]\r\n    });\r\n    const [clock, setClock] = useState({clock: '', clockDate: '', clockDay: ''});\r\n    const [announcement, setAnnouncement] = useState({\r\n        announcements: [],\r\n        announcementDir: ''\r\n    });\r\n    const [announcementText, setAnnouncementText] = useState({text: '', date: new Date() - 55000});\r\n    const [count, setCount] = useState({count: 0});\r\n    const [countAd, setCountAd] = useState({count: 0});\r\n    const [dir, setDir] = useState({name: '', text: '', urlImage: ''});\r\n    const [flagDirImage, setFlagDirImage] = useState(false);\r\n    const [ad, setAd] = useState({ad: []});\r\n    const [adImage, setAdImage] = useState({url: '', date: new Date() - 70000});\r\n    const [flagAd, setFlagAd] = useState(false);\r\n\r\n    const schoolId = useParams().id;\r\n\r\n    const getData = useCallback(async () => {\r\n        try {\r\n            const fetched = await request(`http://localhost:5000/api/view/get/${schoolId}`, 'GET', null);\r\n            setView({...fetched, date: new Date()});\r\n        } catch (e) {\r\n\r\n        }\r\n    }, [schoolId, request]);\r\n\r\n    const getDataDirector = useCallback(async () => {\r\n        try {\r\n            const fetched = await request(`http://localhost:5000/api/dir/get_data/${schoolId}`, 'GET', null);\r\n            setDir(fetched);\r\n            setFlagDirImage(true);\r\n        } catch (e) {\r\n\r\n        }\r\n    }, [schoolId, request]);\r\n\r\n    const getDataAd = useCallback(async () => {\r\n        try {\r\n            const fetched = await request(`http://localhost:5000/api/ad/get_data_ad/${schoolId}`, 'GET', null, {\"Content-Type\": \"text/plain\"});\r\n            setAd({ad: fetched.ad});\r\n            setFlagAd(true)\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n    }, [schoolId, request]);\r\n\r\n    const getDataAnnouncement = useCallback(async () => {\r\n        try {\r\n            const fetched = await request(`http://localhost:5000/api/view/get_announcement/${schoolId}`, 'GET', null);\r\n            setAnnouncement(fetched);\r\n        } catch (e) {\r\n\r\n        }\r\n    }, [schoolId, request]);\r\n\r\n\r\n    const clockLauncher = () => {\r\n        setInterval(() => {\r\n            let date = new Date();\r\n            setClock({\r\n                clock: date.toLocaleString(\"ru\", {hour: 'numeric', minute: 'numeric'}),\r\n                clockDate: date.toLocaleString(\"ru\", {year: 'numeric', month: 'long', day: 'numeric'}),\r\n                clockDay: date.toLocaleString(\"ru\", {weekday: 'long'})\r\n            });\r\n        }, 1000);\r\n    };\r\n    const announcementSwitcher = () => {\r\n        try {\r\n            setAnnouncementText({text: announcement.announcements[count.count], date: new Date()});\r\n            setCount({count: count.count + 1});\r\n            if (count.count === announcement.announcements.length - 1) {\r\n                setCount({count: 0});\r\n            }\r\n        } catch (e) {\r\n        }\r\n    };\r\n\r\n    const adSwitcher = () => {\r\n        try {\r\n            setAdImage({url: `http://localhost:5000/api/ad/get/${ad.ad[countAd.count]._id}`, date: new Date()});\r\n            setFlagAd(true);\r\n            setCountAd({count: countAd.count + 1});\r\n            if (countAd.count === ad.ad.length - 1) {\r\n                setCountAd({count: 0});\r\n            }\r\n        } catch (e) {\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        getData();\r\n        getDataDirector();\r\n        getDataAnnouncement();\r\n        getDataAd();\r\n    }, [getData, getDataDirector, getDataAnnouncement, getDataAd]);\r\n\r\n    useEffect(() => {\r\n        clockLauncher();\r\n        if (new Date() - view.date >= 60000) {\r\n            setView({...view, date: new Date()});\r\n            getData();\r\n            getDataAnnouncement();\r\n            getDataAd();\r\n        }\r\n\r\n        if (new Date() - announcementText.date >= 60000) {\r\n            announcementSwitcher();\r\n        }\r\n        if (new Date() - adImage.date >= 60000) {\r\n            adSwitcher();\r\n        }\r\n\r\n    }, [clockLauncher, announcementSwitcher, adSwitcher, getDataAnnouncement, getData, getDataAd]);\r\n\r\n    useEffect(() => {\r\n        window.M.updateTextFields()\r\n    }, []);\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"head\">\r\n                <div id=\"time\" className=\"container\" style={{display: \"inline-block\"}}>\r\n                    <h5>\r\n                        <p>{clock.clock}<br/>\r\n                            {clock.clockDate}<br/>\r\n                            {clock.clockDay}\r\n                        </p>\r\n                    </h5>\r\n                    <p className=\"red-text\">\r\n                        {view.editDate}\r\n                    </p>\r\n                </div>\r\n                <div id=\"caption\">\r\n                    <h5>РАСПИСАНИЕ ЗАНЯТИЙ</h5>\r\n                </div>\r\n                {flagDirImage &&\r\n                <div id=\"director\">\r\n                    <img id=\"dirImage\" src={dir.urlImage} width=\"100\" height=\"100\" align=\"left\"/>\r\n                    <p id=\"directorText\">\r\n                        <b>{dir.name}</b><br/>\r\n                        <b>{dir.text}</b><br/>\r\n                    </p>\r\n                </div>\r\n                }\r\n            </div>\r\n            <div className=\"schedule\" id=\"table1\">\r\n                <div className=\"separation\" id=\"hideCell\"></div>\r\n                <div className=\"separation\">{view.classrooms[0].name}</div>\r\n                <div className=\"separation\">{view.classrooms[1].name}</div>\r\n                <div className=\"separation\">{view.classrooms[2].name}</div>\r\n                <div className=\"separation\">{view.classrooms[3].name}</div>\r\n                <div className=\"separation\">{view.classrooms[4].name}</div>\r\n                <div className=\"separation\">{view.classrooms[5].name}</div>\r\n                <div className=\"separation\">{view.classrooms[6].name}</div>\r\n                <div className=\"separation\">{view.classrooms[7].name}</div>\r\n                <div className=\"separation\">{view.classrooms[8].name}</div>\r\n                <div className=\"separation\">{view.classrooms[9].name}</div>\r\n\r\n                <div className=\"separation\">{view.times[0]}</div>\r\n                <div className={view.classrooms[0].subjects[0].update && 'red'} >{view.classrooms[0].subjects[0].name}</div>\r\n                <div className={view.classrooms[1].subjects[0].update && 'red'} >{view.classrooms[1].subjects[0].name}</div>\r\n                <div className={view.classrooms[2].subjects[0].update && 'red'} >{view.classrooms[2].subjects[0].name}</div>\r\n                <div className={view.classrooms[3].subjects[0].update && 'red'} >{view.classrooms[3].subjects[0].name}</div>\r\n                <div className={view.classrooms[4].subjects[0].update && 'red'} >{view.classrooms[4].subjects[0].name}</div>\r\n                <div className={view.classrooms[5].subjects[0].update && 'red'} >{view.classrooms[5].subjects[0].name}</div>\r\n                <div className={view.classrooms[6].subjects[0].update && 'red'} >{view.classrooms[6].subjects[0].name}</div>\r\n                <div className={view.classrooms[7].subjects[0].update && 'red'} >{view.classrooms[7].subjects[0].name}</div>\r\n                <div className={view.classrooms[8].subjects[0].update && 'red'} >{view.classrooms[8].subjects[0].name}</div>\r\n                <div className={view.classrooms[9].subjects[0].update && 'red'} >{view.classrooms[9].subjects[0].name}</div>\r\n\r\n                <div className=\"separation\">{view.times[1]}</div>\r\n                <div className={view.classrooms[0].subjects[1].update && 'red'} >{view.classrooms[0].subjects[1].name}</div>\r\n                <div className={view.classrooms[1].subjects[1].update && 'red'} >{view.classrooms[1].subjects[1].name}</div>\r\n                <div className={view.classrooms[2].subjects[1].update && 'red'} >{view.classrooms[2].subjects[1].name}</div>\r\n                <div className={view.classrooms[3].subjects[1].update && 'red'} >{view.classrooms[3].subjects[1].name}</div>\r\n                <div className={view.classrooms[4].subjects[1].update && 'red'} >{view.classrooms[4].subjects[1].name}</div>\r\n                <div className={view.classrooms[5].subjects[1].update && 'red'} >{view.classrooms[5].subjects[1].name}</div>\r\n                <div className={view.classrooms[6].subjects[1].update && 'red'} >{view.classrooms[6].subjects[1].name}</div>\r\n                <div className={view.classrooms[7].subjects[1].update && 'red'} >{view.classrooms[7].subjects[1].name}</div>\r\n                <div className={view.classrooms[8].subjects[1].update && 'red'} >{view.classrooms[8].subjects[1].name}</div>\r\n                <div className={view.classrooms[9].subjects[1].update && 'red'} >{view.classrooms[9].subjects[1].name}</div>\r\n\r\n                <div className=\"separation\">{view.times[2]}</div>\r\n                <div className={view.classrooms[0].subjects[2].update && 'red'} >{view.classrooms[0].subjects[2].name}</div>\r\n                <div className={view.classrooms[1].subjects[2].update && 'red'} >{view.classrooms[1].subjects[2].name}</div>\r\n                <div className={view.classrooms[2].subjects[2].update && 'red'} >{view.classrooms[2].subjects[2].name}</div>\r\n                <div className={view.classrooms[3].subjects[2].update && 'red'} >{view.classrooms[3].subjects[2].name}</div>\r\n                <div className={view.classrooms[4].subjects[2].update && 'red'} >{view.classrooms[4].subjects[2].name}</div>\r\n                <div className={view.classrooms[5].subjects[2].update && 'red'} >{view.classrooms[5].subjects[2].name}</div>\r\n                <div className={view.classrooms[6].subjects[2].update && 'red'} >{view.classrooms[6].subjects[2].name}</div>\r\n                <div className={view.classrooms[7].subjects[2].update && 'red'} >{view.classrooms[7].subjects[2].name}</div>\r\n                <div className={view.classrooms[8].subjects[2].update && 'red'} >{view.classrooms[8].subjects[2].name}</div>\r\n                <div className={view.classrooms[9].subjects[2].update && 'red'} >{view.classrooms[9].subjects[2].name}</div>\r\n\r\n                <div className=\"separation\">{view.times[3]}</div>\r\n                <div className={view.classrooms[0].subjects[3].update && 'red'} >{view.classrooms[0].subjects[3].name}</div>\r\n                <div className={view.classrooms[1].subjects[3].update && 'red'} >{view.classrooms[1].subjects[3].name}</div>\r\n                <div className={view.classrooms[2].subjects[3].update && 'red'} >{view.classrooms[2].subjects[3].name}</div>\r\n                <div className={view.classrooms[3].subjects[3].update && 'red'} >{view.classrooms[3].subjects[3].name}</div>\r\n                <div className={view.classrooms[4].subjects[3].update && 'red'} >{view.classrooms[4].subjects[3].name}</div>\r\n                <div className={view.classrooms[5].subjects[3].update && 'red'} >{view.classrooms[5].subjects[3].name}</div>\r\n                <div className={view.classrooms[6].subjects[3].update && 'red'} >{view.classrooms[6].subjects[3].name}</div>\r\n                <div className={view.classrooms[7].subjects[3].update && 'red'} >{view.classrooms[7].subjects[3].name}</div>\r\n                <div className={view.classrooms[8].subjects[3].update && 'red'} >{view.classrooms[8].subjects[3].name}</div>\r\n                <div className={view.classrooms[9].subjects[3].update && 'red'} >{view.classrooms[9].subjects[3].name}</div>\r\n\r\n                <div className=\"separation\">{view.times[4]}</div>\r\n                <div className={view.classrooms[0].subjects[4].update && 'red'} >{view.classrooms[0].subjects[4].name}</div>\r\n                <div className={view.classrooms[1].subjects[4].update && 'red'} >{view.classrooms[1].subjects[4].name}</div>\r\n                <div className={view.classrooms[2].subjects[4].update && 'red'} >{view.classrooms[2].subjects[4].name}</div>\r\n                <div className={view.classrooms[3].subjects[4].update && 'red'} >{view.classrooms[3].subjects[4].name}</div>\r\n                <div className={view.classrooms[4].subjects[4].update && 'red'} >{view.classrooms[4].subjects[4].name}</div>\r\n                <div className={view.classrooms[5].subjects[4].update && 'red'} >{view.classrooms[5].subjects[4].name}</div>\r\n                <div className={view.classrooms[6].subjects[4].update && 'red'} >{view.classrooms[6].subjects[4].name}</div>\r\n                <div className={view.classrooms[7].subjects[4].update && 'red'} >{view.classrooms[7].subjects[4].name}</div>\r\n                <div className={view.classrooms[8].subjects[4].update && 'red'} >{view.classrooms[8].subjects[4].name}</div>\r\n                <div className={view.classrooms[9].subjects[4].update && 'red'} >{view.classrooms[9].subjects[4].name}</div>\r\n\r\n                <div className=\"separation\">{view.times[5]}</div>\r\n                <div className={view.classrooms[0].subjects[5].update && 'red'} >{view.classrooms[0].subjects[5].name}</div>\r\n                <div className={view.classrooms[1].subjects[5].update && 'red'} >{view.classrooms[1].subjects[5].name}</div>\r\n                <div className={view.classrooms[2].subjects[5].update && 'red'} >{view.classrooms[2].subjects[5].name}</div>\r\n                <div className={view.classrooms[3].subjects[5].update && 'red'} >{view.classrooms[3].subjects[5].name}</div>\r\n                <div className={view.classrooms[4].subjects[5].update && 'red'} >{view.classrooms[4].subjects[5].name}</div>\r\n                <div className={view.classrooms[5].subjects[5].update && 'red'} >{view.classrooms[5].subjects[5].name}</div>\r\n                <div className={view.classrooms[6].subjects[5].update && 'red'} >{view.classrooms[6].subjects[5].name}</div>\r\n                <div className={view.classrooms[7].subjects[5].update && 'red'} >{view.classrooms[7].subjects[5].name}</div>\r\n                <div className={view.classrooms[8].subjects[5].update && 'red'} >{view.classrooms[8].subjects[5].name}</div>\r\n                <div className={view.classrooms[9].subjects[5].update && 'red'} >{view.classrooms[9].subjects[5].name}</div>\r\n\r\n            </div>\r\n            <div className=\"schedule\" id=\"table2\">\r\n                <div className=\"separation\" id=\"hideCell\"></div>\r\n                <div className=\"separation\">{view.classrooms[10].name}</div>\r\n                <div className=\"separation\">{view.classrooms[11].name}</div>\r\n                <div className=\"separation\">{view.classrooms[12].name}</div>\r\n                <div className=\"separation\">{view.classrooms[13].name}</div>\r\n                <div className=\"separation\">{view.classrooms[14].name}</div>\r\n                <div className=\"separation\">{view.classrooms[15].name}</div>\r\n                <div className=\"separation\">{view.classrooms[16].name}</div>\r\n                <div className=\"separation\">{view.classrooms[17].name}</div>\r\n                <div className=\"separation\">{view.classrooms[18].name}</div>\r\n                <div className=\"separation\">{view.classrooms[19].name}</div>\r\n\r\n                <div className=\"separation\">{view.times[0]}</div>\r\n                <div>{view.classrooms[10].subjects[0].name}</div>\r\n                <div>{view.classrooms[11].subjects[0].name}</div>\r\n                <div>{view.classrooms[12].subjects[0].name}</div>\r\n                <div>{view.classrooms[13].subjects[0].name}</div>\r\n                <div>{view.classrooms[14].subjects[0].name}</div>\r\n                <div>{view.classrooms[15].subjects[0].name}</div>\r\n                <div>{view.classrooms[16].subjects[0].name}</div>\r\n                <div>{view.classrooms[17].subjects[0].name}</div>\r\n                <div>{view.classrooms[18].subjects[0].name}</div>\r\n                <div>{view.classrooms[19].subjects[0].name}</div>\r\n\r\n                <div className=\"separation\">{view.times[1]}</div>\r\n                <div>{view.classrooms[10].subjects[1].name}</div>\r\n                <div>{view.classrooms[11].subjects[1].name}</div>\r\n                <div>{view.classrooms[12].subjects[1].name}</div>\r\n                <div>{view.classrooms[13].subjects[1].name}</div>\r\n                <div>{view.classrooms[14].subjects[1].name}</div>\r\n                <div>{view.classrooms[15].subjects[1].name}</div>\r\n                <div>{view.classrooms[16].subjects[1].name}</div>\r\n                <div>{view.classrooms[17].subjects[1].name}</div>\r\n                <div>{view.classrooms[18].subjects[1].name}</div>\r\n                <div>{view.classrooms[19].subjects[1].name}</div>\r\n\r\n                <div className=\"separation\">{view.times[2]}</div>\r\n                <div>{view.classrooms[10].subjects[2].name}</div>\r\n                <div>{view.classrooms[11].subjects[2].name}</div>\r\n                <div>{view.classrooms[12].subjects[2].name}</div>\r\n                <div>{view.classrooms[13].subjects[2].name}</div>\r\n                <div>{view.classrooms[14].subjects[2].name}</div>\r\n                <div>{view.classrooms[15].subjects[2].name}</div>\r\n                <div>{view.classrooms[16].subjects[2].name}</div>\r\n                <div>{view.classrooms[17].subjects[2].name}</div>\r\n                <div>{view.classrooms[18].subjects[2].name}</div>\r\n                <div>{view.classrooms[19].subjects[2].name}</div>\r\n\r\n                <div className=\"separation\">{view.times[3]}</div>\r\n                <div>{view.classrooms[10].subjects[3].name}</div>\r\n                <div>{view.classrooms[11].subjects[3].name}</div>\r\n                <div>{view.classrooms[12].subjects[3].name}</div>\r\n                <div>{view.classrooms[13].subjects[3].name}</div>\r\n                <div>{view.classrooms[14].subjects[3].name}</div>\r\n                <div>{view.classrooms[15].subjects[3].name}</div>\r\n                <div>{view.classrooms[16].subjects[3].name}</div>\r\n                <div>{view.classrooms[17].subjects[3].name}</div>\r\n                <div>{view.classrooms[18].subjects[3].name}</div>\r\n                <div>{view.classrooms[19].subjects[3].name}</div>\r\n\r\n                <div className=\"separation\">{view.times[4]}</div>\r\n                <div>{view.classrooms[10].subjects[4].name}</div>\r\n                <div>{view.classrooms[11].subjects[4].name}</div>\r\n                <div>{view.classrooms[12].subjects[4].name}</div>\r\n                <div>{view.classrooms[13].subjects[4].name}</div>\r\n                <div>{view.classrooms[14].subjects[4].name}</div>\r\n                <div>{view.classrooms[15].subjects[4].name}</div>\r\n                <div>{view.classrooms[16].subjects[4].name}</div>\r\n                <div>{view.classrooms[17].subjects[4].name}</div>\r\n                <div>{view.classrooms[18].subjects[4].name}</div>\r\n                <div>{view.classrooms[19].subjects[4].name}</div>\r\n\r\n                <div className=\"separation\">{view.times[5]}</div>\r\n                <div>{view.classrooms[10].subjects[5].name}</div>\r\n                <div>{view.classrooms[11].subjects[5].name}</div>\r\n                <div>{view.classrooms[12].subjects[5].name}</div>\r\n                <div>{view.classrooms[13].subjects[5].name}</div>\r\n                <div>{view.classrooms[14].subjects[5].name}</div>\r\n                <div>{view.classrooms[15].subjects[5].name}</div>\r\n                <div>{view.classrooms[16].subjects[5].name}</div>\r\n                <div>{view.classrooms[17].subjects[5].name}</div>\r\n                <div>{view.classrooms[18].subjects[5].name}</div>\r\n                <div>{view.classrooms[19].subjects[5].name}</div>\r\n            </div>\r\n\r\n            <div className=\"foot\">\r\n                <div id=\"ad1\">\r\n                    {flagAd && <img src={adImage.url} width=\"700\" height=\"80\" align=\"left\"/>}\r\n                </div>\r\n                <div id=\"announcement\">{announcementText.text}</div>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n};","D:\\Projects\\SchoolSchedulViewer\\desktop-viewer\\src\\View\\SelectViewPage.js",["54","55","56","57","58","59"],"import React, {useCallback, useContext, useEffect, useState} from \"react\";\r\nimport {useMessage} from \"../hooks/message.hook\";\r\nimport {useHistory} from 'react-router-dom'\r\nimport {useHttp} from \"../hooks/http.hook\";\r\nimport Select from \"react-select\";\r\nimport {Button} from \"react-bootstrap\";\r\nimport {Loader} from \"../components/Loader\";\r\n\r\n\r\nexport const SelectViewPage = () => {\r\n    const message = useMessage();\r\n    const {loading, request, error, clearError} = useHttp();\r\n    const [options, setOptions] = useState({schools: []});\r\n    const [form, setForm] = useState({\r\n        schoolName: ''\r\n    });\r\n\r\n    const getData = useCallback(async () => {\r\n        try {\r\n            const fetched = await request(`http://localhost:5000/api/table/get_school`, 'GET', null);\r\n            setOptions(fetched);\r\n        } catch (e) {\r\n\r\n        }\r\n    }, [request]);\r\n\r\n    useEffect(() => {\r\n        getData();\r\n    }, [getData]);\r\n\r\n\r\n    const changeHandlerSchool = event => {\r\n        setForm({...form, schoolName: event.value});\r\n    };\r\n\r\n    if(loading){\r\n        return <Loader/>\r\n    }\r\n\r\n    return (\r\n        <div className=\"row\">\r\n            <h1/>\r\n            <div className=\"col s6 offset-s3\">\r\n                <div className=\"card blue darken-1\">\r\n                    <div className=\"card-content white-text\">\r\n                        <span className=\"card-title\">Добавление данных</span>\r\n                        <div>\r\n\r\n                            <label htmlFor=\"school\" className=\"white-text\">Класс</label>\r\n                            <Select onChange={changeHandlerSchool}\r\n                                    id=\"school\"\r\n                                    placeholder=\"Выберите школу\"\r\n                                    className=\"black-text\"\r\n                                    options={options.schools}\r\n                                    name=\"school\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"card-action\">\r\n                        <Button\r\n                            className=\"btn yellow darken-4\"\r\n                            style={{marginRight: 10}}\r\n                            disabled={loading}\r\n                            href={`/view/${form.schoolName}`}\r\n                        >\r\n                            Выбрать школу\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};","D:\\Projects\\SchoolSchedulViewer\\desktop-viewer\\src\\hooks\\http.hook.js",[],"D:\\Projects\\SchoolSchedulViewer\\desktop-viewer\\src\\hooks\\message.hook.js",[],"D:\\Projects\\SchoolSchedulViewer\\desktop-viewer\\src\\components\\Loader.js",[],["60","61"],{"ruleId":"62","replacedBy":"63"},{"ruleId":"64","replacedBy":"65"},{"ruleId":"66","severity":1,"message":"67","line":5,"column":9,"nodeType":"68","messageId":"69","endLine":5,"endColumn":15},{"ruleId":"66","severity":1,"message":"70","line":9,"column":11,"nodeType":"68","messageId":"69","endLine":9,"endColumn":18},{"ruleId":"66","severity":1,"message":"71","line":11,"column":12,"nodeType":"68","messageId":"69","endLine":11,"endColumn":19},{"ruleId":"66","severity":1,"message":"72","line":11,"column":30,"nodeType":"68","messageId":"69","endLine":11,"endColumn":35},{"ruleId":"66","severity":1,"message":"73","line":11,"column":37,"nodeType":"68","messageId":"69","endLine":11,"endColumn":47},{"ruleId":"66","severity":1,"message":"74","line":12,"column":12,"nodeType":"68","messageId":"69","endLine":12,"endColumn":20},{"ruleId":"66","severity":1,"message":"75","line":12,"column":22,"nodeType":"68","messageId":"69","endLine":12,"endColumn":33},{"ruleId":"76","severity":1,"message":"77","line":152,"column":8,"nodeType":"78","endLine":152,"endColumn":98,"suggestions":"79"},{"ruleId":"80","severity":1,"message":"81","line":180,"column":21,"nodeType":"82","endLine":180,"endColumn":98},{"ruleId":"80","severity":1,"message":"81","line":362,"column":32,"nodeType":"82","endLine":362,"endColumn":93},{"ruleId":"66","severity":1,"message":"83","line":1,"column":29,"nodeType":"68","messageId":"69","endLine":1,"endColumn":39},{"ruleId":"66","severity":1,"message":"84","line":3,"column":9,"nodeType":"68","messageId":"69","endLine":3,"endColumn":19},{"ruleId":"66","severity":1,"message":"70","line":11,"column":11,"nodeType":"68","messageId":"69","endLine":11,"endColumn":18},{"ruleId":"66","severity":1,"message":"72","line":12,"column":30,"nodeType":"68","messageId":"69","endLine":12,"endColumn":35},{"ruleId":"66","severity":1,"message":"73","line":12,"column":37,"nodeType":"68","messageId":"69","endLine":12,"endColumn":47},{"ruleId":"85","severity":1,"message":"86","line":42,"column":13,"nodeType":"82","endLine":42,"endColumn":18},{"ruleId":"62","replacedBy":"87"},{"ruleId":"64","replacedBy":"88"},"no-native-reassign",["89"],"no-negated-in-lhs",["90"],"no-unused-vars","'Loader' is defined but never used.","Identifier","unusedVar","'message' is assigned a value but never used.","'loading' is assigned a value but never used.","'error' is assigned a value but never used.","'clearError' is assigned a value but never used.","'dataFlag' is assigned a value but never used.","'setDataFlag' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'adImage.date', 'announcementText.date', and 'view'. Either include them or remove the dependency array. You can also do a functional update 'setView(v => ...)' if you only need 'view' in the 'setView' call.","ArrayExpression",["91"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'useContext' is defined but never used.","'useHistory' is defined but never used.","jsx-a11y/heading-has-content","Headings must have content and the content must be accessible by a screen reader.",["89"],["90"],"no-global-assign","no-unsafe-negation",{"desc":"92","fix":"93"},"Update the dependencies array to be: [clockLauncher, announcementSwitcher, adSwitcher, getDataAnnouncement, getData, getDataAd, view, announcementText.date, adImage.date]",{"range":"94","text":"95"},[8505,8595],"[clockLauncher, announcementSwitcher, adSwitcher, getDataAnnouncement, getData, getDataAd, view, announcementText.date, adImage.date]"]